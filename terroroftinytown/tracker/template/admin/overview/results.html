{% extends '../base.html' %}

{% block menu %}
{% if project_name is None %}
{% include '../menus/overview_bare.html' %}
{% else %}
{% include '../menus/project_bare.html' %}
{% end %}
{% end %}

{% block title %} Results {% end %}

{% block main %}

<h1>Results{{ ' for "{}" '.format(project_name) if project_name is not None else '' }}</h1>

<p>{{ 'There are about {:,} results total.'.format(count) if project_name is None else ''}}</p>

<a class="btn btn-default" href="{{ '{}?offset_id={}&limit={}&project_name={}'.format(reverse_url('admin.results'), next_higher_offset_id, limit, project_name) }}">Show later</a>

<table class="table table-bordered table-striped">
	<thead>
		<tr>
			<th>ID</th>
			{% if project_name is None %} <th>Project</th> {% end %}
			<th>Shortcode</th>
                        {% if project_name is not None %} <th>Seq Num</th> {% end %}
			<th>URL</th>
			<th>Encoding</th>
			<th>Date</th>
		</tr>
	</thead>

	{% for result in results %}
	<tr>
		<td>{{ result['id'] }}</td>
		{% if project_name is None %} <td>{{ result['project_name'] }}</td> {% end %}
		<td>{{ result['shortcode'] }}</td>
                {% if project_name is not None %} <td>{{ result['seq_num'] }}</td> {% end %}
		<td>{{ result['url'] }}</td>
		<td>{{ result['encoding'] }}</td>
		<td>{{ result['datetime'] }}</td>
	</tr>
	{% end %}
</table>

<a class="btn btn-default" href="{{ '{}?offset_id={}&limit={}&project_name={}'.format(reverse_url('admin.results'), next_lower_offset_id, limit, project_name) }}">Show earlier</a>

{% end %}
